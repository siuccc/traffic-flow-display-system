{% extends "base.html" %}

{% block title %}é¦–é¡µ - äº¤é€šæµé‡æ•°æ®å±•ç¤ºç³»ç»Ÿ{% endblock %}

{% block content %}
<!-- é¡µé¢ä¸»è¦å†…å®¹ -->
<div class="content-wrapper">
    <!-- æ•°æ®ç»Ÿè®¡ä¿¡æ¯ -->
    <div class="info-section">
        <h2>ğŸ“Š äº¤é€šæ•°æ®æ¦‚è§ˆ</h2>
        <p>æ˜¾ç¤ºæœ€æ–° <strong>{{ record_count }}</strong> æ¡äº¤é€šè®°å½•</p>
        <p>æ•°æ®æ›´æ–°æ—¶é—´ï¼š<span id="update-time">{{ update_time }}</span></p>
    </div>

    <!-- äº¤é€šæ•°æ®è¡¨æ ¼ -->
    <div class="table-section">
        <h3>ğŸš— äº¤é€šè®°å½•åˆ—è¡¨</h3>
        
        {% if traffic_records %}
        <table class="traffic-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>æ–¹å‘</th>
                    <th>é€šè¿‡æ—¶é—´</th>
                    <th>è½¦ç‰Œå·</th>
                </tr>
            </thead>
            <tbody>
                {% for record in traffic_records %}
                <tr>
                    <td class="center">{{ record.id }}</td>
                    <td class="center direction-{{ record.direction }}">{{ record.direction_text }}</td>
                    <td class="time">{{ record.formatted_time }}</td>
                    <td class="center plate">{{ record.plate }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <div class="no-data">
            <p>âŒ æš‚æ— äº¤é€šæ•°æ®</p>
        </div>
        {% endif %}
    </div>

    <!-- çŠ¶æ€ä¿¡æ¯ -->
    <div class="status-section">
        <p class="status-ok">âœ… æ•°æ®åº“è¿æ¥æ­£å¸¸ï¼Œäº¤é€šæµé‡æ•°æ®å±•ç¤ºåŠŸèƒ½å·²å¯ç”¨</p>
    </div>
</div>
{% endblock %}
